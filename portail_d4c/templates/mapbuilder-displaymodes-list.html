<!--
MIT Licence
ods-widgets -- https://github.com/opendatasoft/ods-widgets
Copyright (c) 2014 - Opendatasoft
-->
<div class="d4c-mapbuilder__displaymodes-list">
    <div class="d4c-mapbuidler__displaymodes-list__container-backdrop" ng-show="expanded"></div>
    <div class="d4c-mapbuilder__displaymodes-list__container">
        <div class="d4c-mapbuilder__displaymodes-list__select"
             role="listbox"
             aria-activedescendant="displayModeActiveMode"
             aria-label="Display mode selection list."
             translate="aria-label"
             aria-expanded="{{ expanded }}"
             tabindex="{{ expanded ? -1 : 0 }}"
             ng-keydown="checkListKey($event)">
            <div class="d4c-mapbuilder__displaymodes-list__mode"
                 ng-class="{'d4c-mapbuilder__displaymodes-list__mode--disabled': displayMode.notAvailable, 'd4c-mapbuilder__displaymodes-list__mode--active': layer.display === displayMode.display}"
                 ng-repeat="displayMode in availableDisplays"
                 ng-click="onClick(displayMode.display)"
                 ng-if="expanded || layer.display === displayMode.display"
                 ng-keydown="checkOptionKey($event, displayMode)"
                 tabindex="{{ expanded ? 0 : -1 }}"
                 aria-disabled="{{ displayMode.notAvailable }}"
                 ng-attr-id="{{ layer.display === displayMode.display && 'displayModeActiveMode'}}"
                 role="option">
                <img class="d4c-mapbuilder__displaymodes-list__display-preview" ng-src="{{ displayMode.previewUrl }}" alt="{{ displayMode.label }}">
                <div class="d4c-mapbuilder__displaymodes-list__mode-details">
                    <div class="d4c-mapbuilder__displaymodes-list__mode-label">
                        {{ displayMode.label }}
                        <span ng-show="displayMode.notAvailable"
                              class="d4c-mapbuilder__displaymodes-list__mode-disabled-warning" translate>
                        &mdash; Not available for this dataset</span>
                    </div>
                    <div class="d4c-mapbuilder__displaymodes-list__mode-description"
                         ng-bind="displayMode.description"></div>
                </div>
                <div class="d4c-mapbuilder__displaymodes-list__mode-toggle" ng-show="!expanded">
                    <i class="d4cui-bottom"></i>
                </div>
            </div>
        </div>
    </div>
</div>
